<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ recipe.title }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/CRecipe.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/header.css') }}">
  <style>
    .star {
      color: gold;
    }
    .review {
      margin-top: 10px;
      padding: 10px;
      border-top: 1px solid #ccc;
    }
    .print-button {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body class="page-body">

  <!-- Header -->
  <header class="header">
    <div class="header-left">
      <a href="{{ url_for('home') }}">Recipe Index</a>
      <a href="#" class="nav-link">Breakfast</a>
      <a href="#" class="nav-link">Lunch</a>
      <a href="#" class="nav-link">Dinner</a>
    </div>
    <div class="header-center">
      <input type="text" placeholder="Search recipes...">
    </div>
    <div class="header-right">
      <button onclick="location.href='{{ url_for('create_recipe_form') }}'">Create!</button>
      <a href="#" class="profile-link">Profile</a>
    </div>
  </header>

  <!-- Recipe Content -->
  <div class="container">
    <h1>{{ recipe.title }}</h1>
    <p>{{ recipe.description }}</p>

    <p><strong>Cook Time:</strong> {{ recipe.cook_time }} minutes</p>
    <p><strong>Servings:</strong> {{ recipe.servings }}</p>

    <h2>Ingredients</h2>
    <ul>
      {% for ingredient in recipe.ingredients | fromjson %}
        <li>{{ ingredient }}</li>
      {% endfor %}
    </ul>

    <h2>Instructions</h2>
    <ol>
      {% for step in recipe.instructions | fromjson %}
        <li>{{ step }}</li>
      {% endfor %}
    </ol>

    {% if recipe.image_url %}
      <h2>Image</h2>
      <img src="{{ recipe.image_url }}" alt="Recipe Image" class="recipe-image">
    {% endif %}

    <p><strong>Privacy:</strong> {{ recipe.privacy }}</p>

    <h2>Reviews</h2>
    {% for review in recipe.reviews %}
      <div class="review">
        <div class="stars">
          {% for i in range(review.rating) %}
            <span class="star">★</span>
          {% endfor %}
          {% for i in range(5 - review.rating) %}
            <span class="star" style="color: #ccc;">★</span>
          {% endfor %}
        </div>
        <p>{{ review.comment }}</p>
      </div>
    {% else %}
      <p>No reviews yet.</p>
    {% endfor %}

    <button class="print-button" onclick="window.print()">Print Recipe</button>
  </div>

</body>
</html>

