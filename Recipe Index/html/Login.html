<html>

<head>
  <title>Login</title>
  <link rel="stylesheet" href="../css/header.css">
  <link rel="stylesheet" href="../css/LogInSignUp.css">
  <script src="../js/Login.js" defer></script>
</head>

<body class="page-body">
  <!--  Header  -->
  <header class="header">
    <div class="header-left">
      <a href="/">Recipe Index</a>
      <a href="/browse" class="nav-link">Breakfast</a>
      <a href="/browse" class="nav-link">Lunch</a>
      <a href="/browse" class="nav-link">Dinner</a>
    </div>
    <div class="header-center">
      <input type="text" placeholder="Search recipes...">
    </div>
    <div class="header-right">
      <!-- Different header if user is logged in -->
      {% if current_user.is_authenticated %}
      <a href="/logout" class="nav-link">Log Out</a>
      {% else %}
      <a href="/login" class="nav-link">Log In</a>
      <a href="/signup" class="nav-link">Sign Up</a>
      {% endif %}
      <button onclick="location.href='/create'">Create!</button>
      <a href="/profile" class="profile-link">Profile</a>
    </div>
  </header>

  <!-- Flash msgs -->
  <div class="flash-container">
    {% with messages = get_flashed_messages(with_categories=True) %}
      {% if messages %}
        {% for category, msg in messages %}
          <p class="flash-msg {{ category }}">{{ msg }}</p>
        {% endfor %}
      {% endif %}
    {% endwith %}
  </div>

  <!--  Page Content  -->
  <div class="login-container">
    <h1>Log In</h1>

    <!-- Altered to work with Flask -->

    <form method="POST">
      {{ form.hidden_tag() }}

      <div class="field-block">
        {{ form.email.label }}:<br>
        {{ form.email }}<br>
      </div>

      <div class="field-block">
        {{ form.password.label }}:<br>
        {{ form.password }}<br>
      </div>

      {{ form.submit }}
    </form>

    <p>Don't have an account? <a href="{{ url_for('signup') }}">Sign Up</a></p>
  </div>

</body>

</html>